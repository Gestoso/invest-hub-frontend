<div *ngIf="user$ | async as user" class="p-3">
  <div class="mb-3">
    <div class="font-semibold">Portfolios</div>
    <div class="text-sm opacity-70">{{ user.email }}</div>
  </div>

  <p-button
    label="Subportfolio"
    icon="pi pi-plus"
    class="w-full mb-3"
    (onClick)="openAddSubportfolio()"
  ></p-button>

  <p-progressSpinner
    *ngIf="loading"
    styleClass="w-2rem h-2rem"
  ></p-progressSpinner>

  <p-message
    *ngIf="error"
    severity="error"
    [text]="error"
  ></p-message>

  <p-panelMenu
    *ngIf="!loading && !error"
    [model]="menuItems"
    [multiple]="true"
  ></p-panelMenu>

  <app-subportfolio-modal
    [open]="addSubportfolioOpen"
    [roots]="roots"
    (closed)="addSubportfolioOpen = false"
    (created)="onSubportfolioCreated()"
  ></app-subportfolio-modal>
</div>